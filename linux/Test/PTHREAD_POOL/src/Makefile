.PHONY: OUTPUT CLEAN
CC=gcc
TARGET=server
INCLUDE_PATH=../include
LIBRARY_NAME_1=g
LIBRARY_NAME_2=pthread
LIBRARY_NAME=-$(LIBRARY_NAME_1) -l$(LIBRARY_NAME_2)
CFLAGS=-I$(INCLUDE_PATH) -Wall -c
LDFLAGS=$(LIBRARY_NAME)
SRCFILENAME=$(wildcard *.c)
DESFILENEME=$(patsubst %.c, %.o, $(SRCFILENAME))

$(TARGET):$(DESFILENEME)
	$(CC) $^ $(LDFLAGS) -o $@
%.o:%.c
	$(CC) $(LDFLAGS) $(CFLAGS)  $<
OUTPUT:
	@echo $(SRCFILENAME)
	@echo $(DESFILENEME)
CLEAN:
	rm $(DESFILENEME) $(TARGET)

